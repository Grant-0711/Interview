flushdb 清空数据库  flushall 清空所有库

有16个库，0到15

基本数据类型是kv

v的类型有五大类

string list  hash  zset（带分数的set，可以根据分数排名）set

由于是基于内存的，所以有持久化策略

rdb和aof

rdb是每个一个时间段内操作数超过一个指定数据就保存一次，默认开启

aof是记录每条操作，redis重启时依据这个记录操作文件来进行恢复，需要手动开启



redis支持事务，事务中的请求都会被依次执行，但是redis的事务不支持回滚

乐观锁和悲观锁

redis采用的是乐观锁，在进行操作之前认为该次操作不会被打断，所以不会锁定资源，如果被打断，该次操作会被放弃





高可用有哨兵模式和redis cluster

哨兵模式

主机宕机的话从从机中选择一台作为主机，之前主机上限也再次作为从机

cluster部署基于ruby工具，安装redis gem



穿透指的是查询一个不存在的key，缓存差不到请求数据库，查不到数据不能写入缓存，这样每次都差数据库造成穿透

解决办法是即便是不存在的值也包装一个空值，设置一个五分钟的过期时间

雪崩值得是缓存集中在一段时间内失效，发生大量的穿透

击穿指的是一个key热点，扛着大并发，当这个key突然失效的话，就会有大量请求直接请求数据库，

解决办法是可以设置热点key永不过期