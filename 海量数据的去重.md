方案一

借助redis的set数据类型

缺点：频繁的连接redis，

方案二 flink的mapState

缺点是数据量大的话要使用rockDBstate

数据量实在太大存储也有压力

方案三 布隆过滤器

基本原理是吧数据的hash（类hash算法）值对于存储的位数取余数，存入位数组的指定位

总之可以说成是不存原始数据，来了一个数据只是做个标记这个数据来过

使用方式是在flink定义状态的时候传入一个bloomFilter的stateDescriptor

优缺点：

不需要存储数据本身，时间复杂度是1，哈希函数之间相互独立，硬件层面并行计算

缺点是存在假阳性的概率，不适用于要求正确率百分百的场景，只能插入和查询，不能删除

适用于查询不存在的场景，例如redis的防止缓存穿透